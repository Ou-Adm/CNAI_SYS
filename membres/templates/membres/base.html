{% load static %}
<!DOCTYPE html>
<html lang="en" data-theme="black">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNAI Club</title>

    <!-- DaisyUI & Tailwind -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5/themes.css" rel="stylesheet" type="text/css" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'membres/css/hero.css' %}?v=2">
    <link rel="stylesheet" href="{% static 'membres/css/navbar.css' %}?v=3">
</head>

<body class="{% if is_member %}logged{% endif %}">

    <!-- Navbar -->
    <nav class="navbar-custom">
        <div class="navbar-content">

            <!-- Logo -->
            <a href="{% url 'index' %}" class="brand-logo">CNAI Club</a>

            <!-- Desktop menu -->
            <div class="nav-links">
                <a href="{% url 'index' %}" class="nav-link">Accueil</a>
                <a href="{% url 'team' %}" class="nav-link">Team</a>
                <a href="#events" class="nav-link">Events</a>
                <a href="#contact" class="nav-link">Contact</a>
            </div>

            <!-- RIGHT SIDE (Hamburger or Sign In) -->
            {% if user.is_authenticated or is_member %}
                <!-- Hamburger (visible si connecté) -->
                <button class="hamburger-btn" id="menuBtn">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            {% else %}
                <!-- Non connecté → Sign In -->
                <a href="{% url 'login' %}" class="signin-btn">Sign In</a>
            {% endif %}

        </div>
    </nav>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Sidebar (visible uniquement si connecté) -->
    {% if user.is_authenticated or is_member %}
    <aside class="sidebar" id="sidebar">

        <button class="sidebar-close" id="closeBtn">&times;</button>

        <ul class="sidebar-nav">

            <li>
                <a href="/profile/">
                    <svg class="sidebar-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 
                        4-4s-1.79-4-4-4-4 1.79-4 
                        4 1.79 4 4 4zm0 2c-2.67 0-8 
                        1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    <span>Personal Info</span>
                </a>
            </li>

            <li>
                <a href="/announcements/">
                    <svg class="sidebar-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 3H5c-1.1 0-2 .9-2 
                        2v14c0 1.1.9 2 2 
                        2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 
                        17H7v-7h2v7zm4 0h-2V7h2v10zm4 
                        0h-2v-4h2v4z"/>
                    </svg>
                    <span>Announcements</span>
                </a>
            </li>

            <li>
                <a href="/calendar/">
                    <svg class="sidebar-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 
                        0-1.99.9-1.99 2L3 
                        19c0 1.1.89 2 2 
                        2h14c1.1 0 2-.9 
                        2-2V5c0-1.1-.9-2-2-2zm0 
                        16H5V8h14v11z"/>
                    </svg>
                    <span>Calendar</span>
                </a>
            </li>

            <li>
                <a href="/ranking/">
                    <svg class="sidebar-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M5 9.2h3V19H5zM10.6 
                        5h2.8v14h-2.8zm5.6 
                        8H19v6h-2.8z"/>
                    </svg>
                    <span>Points & Ranking</span>
                </a>
            </li>

            <li>
                <a href="/certificate/">
                    <svg class="sidebar-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 3H5c-1.1 
                        0-2 .9-2 
                        2v14c0 1.1.9 2 2 
                        2h14c1.1 0 2-.9 
                        2-2V5c0-1.1-.9-2-2-2zM9 
                        17H7v-7h2v7zm4 
                        0h-2V7h2v10zm4 
                        0h-2v-4h2v4z"/>
                    </svg>
                    <span>Certificate</span>
                </a>
            </li>

            <li>
                <a href="/settings/">
                    <svg class="sidebar-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19.14 
                        12.94c.04-.3.06-.61.06-.94 
                        0-.32-.02-.64-.07-.94l2.03-1.58
                        c.18-.14.23-.41.12-.62l-1.92-3.32
                        c-.12-.22-.37-.29-.59-.22l-2.39.96
                        c-.5-.38-1.03-.7-1.62-.94l-.36-2.54
                        c-.04-.24-.24-.41-.48-.41h-3.84
                        c-.24 0-.43.17-.47.41l-.36 2.54
                        c-.59.24-1.13.57-1.62.94l-2.39-.96
                        c-.22-.09-.47 0-.59.22L2.74 8.87
                        c-.12.21-.08.48.12.62l2.03 
                        1.58c-.05.3-.07.62-.07.94
                        s.02.64.07.94l-2.03 
                        1.58c-.18.14-.23.41-.12.62l1.92 
                        3.32c.12.22.37.29.59.22l2.39-.96
                        c.5.38 1.03.7 1.62.94l.36 
                        2.54c.05.24.24.41.48.41h3.84
                        c.24 0 .44-.17.47-.41l.36-2.54
                        c.59-.24 1.13-.56 1.62-.94l2.39.96
                        c.22.09.47 0 .59-.22l1.92-3.32
                        c.12-.22.07-.48-.12-.62l-2.01-1.58zM12 
                        15.6c-1.98 0-3.6-1.62-3.6-3.6
                        s1.62-3.6 3.6-3.6 3.6 1.62 3.6 
                        3.6-1.62 3.6-3.6 3.6z"/>
                    </svg>
                    <span>Settings</span>
                </a>
            </li>
        </ul>

        <a href="/logout/" class="logout-btn">Logout</a>
    </aside>
    {% endif %}

    <!-- Main Content -->
    <div class="main-content">
        {% block content %}{% endblock %}
    </div>

    <!-- JS -->
    <script src="{% static 'membres/js/sidebar.js' %}"></script>
</body>
</html>
